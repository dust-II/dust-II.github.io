[{"content":"#åƒæ°´ä¸å¿˜æŒ–äº•äºº https://shenghairong.github.io/posts/2024-11-10-hugo-gh_pages/ https://blog.bugjs.cn/posts/deploy-hugo-on-ubuntu/\n","permalink":"https://dust-II.github.io/posts/1-01-01-%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/","summary":"\u003cp\u003e#åƒæ°´ä¸å¿˜æŒ–äº•äºº\n\u003ca href=\"https://shenghairong.github.io/posts/2024-11-10-hugo-gh_pages/\"\u003ehttps://shenghairong.github.io/posts/2024-11-10-hugo-gh_pages/\u003c/a\u003e\n\u003ca href=\"https://blog.bugjs.cn/posts/deploy-hugo-on-ubuntu/\"\u003ehttps://blog.bugjs.cn/posts/deploy-hugo-on-ubuntu/\u003c/a\u003e\u003c/p\u003e","title":"åšå®¢æ­å»º"},{"content":"åŸæ•°ç»„ \u0026amp; å‰ç¼€å’Œæ•°ç»„ \u0026amp; å·®åˆ†æ•°ç»„ \u0026amp; æ ‘çŠ¶æ•°ç»„ è®¾æœ‰åŸæ•°ç»„ $nums$:\næ•°ç»„ $sum[i] nums[0] + nums[1] + \u0026hellip; + nums[i]$ ç§°ä¸º $nums$ çš„å‰ç¼€å’Œæ•°ç»„ æ•°ç»„ $dif[i] = nums[i] - nums[i - 1]$ ç§°ä¸º $nums$ çš„å·®åˆ†æ•°ç»„ å‰ç¼€å’Œæ•°ç»„ã€å·®åˆ†æ•°ç»„ åªä¸è¿‡æ˜¯åŸæ•°ç»„çš„ä¸åŒè¡¨ç¤ºå½¢å¼ã€‚\nåŸæ•°ç»„å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…è®¿é—®ä»»æ„å…ƒç´ ï¼ï¼ï¼ å‰ç¼€å’Œæ•°ç»„å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´è·å–ä»»æ„åŒºé—´çš„å…ƒç´ å’Œï¼ï¼ï¼ å·®åˆ†æ•°ç»„å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…å¯¹ä»»æ„åŒºé—´å†…å…ƒç´ å¢åŠ /å‡å°‘å›ºå®šæ•°å€¼ï¼ï¼ï¼ å‰ç¼€å’Œã€å·®åˆ†äº’ä¸ºé€†è¿ç®—ï¼š\nåŸæ•°ç»„ æ˜¯ å·®åˆ†æ•°ç»„ çš„å‰ç¼€å’Œæ•°ç»„ï¼ï¼ï¼ åŸæ•°ç»„ æ˜¯ å‰ç¼€å’Œæ•°ç»„ çš„å·®åˆ†æ•°ç»„ï¼ï¼ï¼ å‰ç¼€å’Œæ•°ç»„ï¼š\nç›´æ¥å­˜å‚¨äº†å‰ç¼€å’Œä¿¡æ¯ï¼› æ„å»ºæ—¶é—´å¤æ‚åº¦ï¼š $O(n)$ï¼› æŸ¥è¯¢åŸæ•°ç»„ä»»æ„åŒºé—´å†…å…ƒç´ çš„å’Œï¼š æ—¶é—´å¤æ‚åº¦ $O(1)$ï¼› ä¿®æ”¹åŸæ•°ç»„ä¸­æŸä¸ªå…ƒç´ çš„å€¼éœ€è¦å¯¹å‰ç¼€å’Œæ•°ç»„è¿›è¡Œç»´æŠ¤ï¼š æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$ï¼› æ ‘çŠ¶æ•°ç»„ï¼š\né—´æ¥å­˜å‚¨äº†å‰ç¼€å’Œä¿¡æ¯ï¼Œè¢«åˆ†ä¸ºè¿ç»­çš„å¤šæ®µ æ„å»ºæ—¶é—´å¤æ‚åº¦ï¼š $O(n)$ï¼› æŸ¥è¯¢åŸæ•°ç»„ä»»æ„åŒºé—´å†…å…ƒç´ çš„å’Œï¼š å®é™…ä¸Šæ˜¯æŸ¥è¯¢ä¸¤æ¬¡å‰ç¼€å’Œï¼Œç„¶åä½œå·®ï¼›æ—¶é—´å¤æ‚åº¦ $O(logn)$ï¼› ä¿®æ”¹åŸæ•°ç»„ä¸­æŸä¸ªå…ƒç´ çš„å€¼éœ€è¦å¯¹æ ‘çŠ¶æ•°ç»„è¿›è¡Œç»´æŠ¤ï¼š æ—¶é—´å¤æ‚åº¦ä¸º $O(logn)$ï¼› æ ‘çŠ¶æ•°ç»„æ˜¯ä¸€ç§ â€œå…¼é¡¾å•ç‚¹ä¿®æ”¹ä¸åŒºé—´æŸ¥è¯¢å¹³è¡¡çš„ä¸€ç§æ•°æ®ç»“æ„â€\nåŸç† å…ˆä¸Šä»£ç ï¼Œç„¶åå†æ ¹æ®ä»£ç åå‘ç†è§£ï¼š\n$lowbit(x)$ æ˜¯ä»€ä¹ˆï¼Œå…¶ä½œç”¨åˆæ˜¯ä»€ä¹ˆï¼Ÿ æ ‘çŠ¶æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´  $ft[i]$ çš„å«ä¹‰ï¼Ÿ //nums è¡¨ç¤ºåŸæ•°ç»„ï¼Œft è¡¨ç¤º nums çš„æ ‘çŠ¶æ•°ç»„ //åŒå‰ç¼€å’Œæ•°ç»„ï¼Œæ ‘çŠ¶æ•°ç»„ä¹Ÿéœ€è¦è¡¥å……ä¸€ä¸ªå‰ç½® 0 class FenwickTree{ private: vector\u0026lt;int\u0026gt; ft; int lowbit(int x) { return x \u0026amp; (-x); } public: FenwickTree(int n) { ft.resize(n + 1, 0); } //ç¬¬ idx ä¸ªå…ƒç´  + x //nums[idx] + x when 1-indexed //nums[idx - 1] + x when 0-indexed void add(int idx, int x) { while(idx \u0026lt; ft.size()) { ft[idx] += x; idx += lowbit(idx); } } //å‰ç¼€å’ŒæŸ¥è¯¢ int sum(int idx) { int res = 0; while(idx) { res += ft[idx]; idx -= lowbit(idx); } return res; } }; lowbit å‡½æ•° $lowbit$ æ˜¯ä»€ä¹ˆï¼Ÿ\n$lowbit(x)$ï¼š$x$ çš„äºŒè¿›åˆ¶è¡¨ç¤ºæœ€åä¸€ä½ $1$ çš„ä½æƒ $lowbit(x) = x\\ \u0026amp;\\ (-x)$ x çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸ºï¼š0...1000000 x çš„åç ä¸ºï¼š 1...0111111 x çš„è¡¥ç ä¸ºï¼š 1...1000000ï¼ˆä¹Ÿå°±æ˜¯ -x çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼‰ x \u0026amp; (-x)ï¼š 0...1000000 ç†è§£ æ ‘çŠ¶æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´  $ft[i]$ çš„å«ä¹‰ï¼Ÿæ¨¡æ‹Ÿæ±‚å’Œï¼ˆä¸ºäº†æ–¹ä¾¿æè¿°ï¼Œè¿™é‡Œå‡è®¾åŸæ•°ç»„ $nums$ ä¸‹æ ‡ä¹Ÿä» $1$ å¼€å§‹ï¼‰ï¼š\n$sum[7] = ft[7] + ft[6] + ft[4]$ 7 çš„äºŒè¿›åˆ¶è¡¨ç¤º $111$ å®é™…ä¸Šï¼Œ$ft[7] = nums[7]$ å®é™…ä¸Šï¼Œ$ft[6] = nums[5] + nums[6]$ å®é™…ä¸Šï¼Œ$ft[4] = nums[1] + nums[2] + nums[3] + nums[4]$ çœ‹äº†ä¸Šé¢ä¾‹å­ï¼Œå¯¹äº $ft[i]$ çš„æœ¬è´¨åŸºæœ¬æœ‰æ„Ÿè§‰äº†å§ ğŸ¤”ğŸ¤” $ft[i]$ è¡¨ç¤ºçš„æ˜¯ $nums[i - lowbit(i) + 1] + \u0026hellip; + nums[i]$ çš„å’Œï¼ï¼ï¼ $ft[i]$ ç»´æŠ¤çš„æ˜¯åŒºé—´ $[i - lowbit(i) + 1, i]$ çš„æ€§è´¨ $lowbit(x)$ åœ¨è¿™æœŸé—´çš„ä½œç”¨ï¼Ÿ\næ±‚å’ŒæœŸé—´ï¼šä»ä¸Šåˆ°ä¸‹ï¼Œå¿«é€Ÿè·³è½¬åˆ°ä¸‹ä¸€ä¸ªæ±‚å’ŒåŒºé—´ æ›´æ–°æœŸé—´ï¼šä»ä¸‹åˆ°ä¸Šï¼Œå¿«é€Ÿè·³è½¬åˆ°ä¸‹ä¸€å—å½±å“çš„åŒºé—´ åŒºé—´æœ€å€¼ Whatï¼Ÿï¼Ÿï¼Ÿæ ‘çŠ¶æ•°ç»„å¯ä»¥æ±‚ä»»æ„åŒºé—´å’Œæ˜¯å¯ä»¥ç†è§£çš„ï¼šæ±‚ä¸¤æ¬¡å‰ç¼€å’Œï¼Œåšå·®å³å¯å¾—åˆ°åŒºé—´å’Œã€‚æ ‘çŠ¶æ•°ç»„æ±‚ä»»æ„åŒºé—´æœ€å€¼ï¼Ÿï¼ï¼\nä¸€å¼€å§‹ä¹Ÿæ˜¯ä¸ç›¸ä¿¡çš„ï¼Œç„¶è€Œäº‹å®æ˜¯ï¼Œåœ¨ç‰¹å®šåœºæ™¯ä¸‹æ˜¯å¯è¡Œçš„ï¼Œè€Œä¸”æ•ˆæœè¿˜ä¸é”™ã€‚\nç‰¹å®šåœºæ™¯ï¼šæ±‚åŒºé—´æœ€å°/å¤§å€¼æ—¶ï¼Œè¦æ±‚ä¿®æ”¹æ–¹å‘åªèƒ½æœç€å˜å°/å¤§çš„æ–¹å‘ä¿®æ”¹ï¼ˆçº¿æ®µæ ‘æ˜¯æ²¡æœ‰è¿™è¦æ±‚çš„ï¼‰ï¼Œè€ƒè™‘åŒºé—´æœ€å¤§å€¼ï¼š\nå•ç‚¹æ›´æ–°ä¸‹ $nums[5] = 100$ï¼Œ$ft[5]$ï¼Œ$ft[6]$ï¼Œ$ft[8]$ å‡å—åˆ°å½±å“ï¼Œæ›´æ–°ä¸º $100$ï¼Œè¿™æ²¡é—®é¢˜ æ¥ç€æ›´æ–°ä¸‹ $nums[5] = 99$ï¼ŒæŒ‰é“ç† $ft[5]$ï¼Œ$ft[6]$ï¼Œ$ft[8]$ å‡åº”æ›´æ–°ä¸º $99$ï¼Œä½†å®é™…æ˜¯ä¸ä¼šæ›´æ–°çš„ï¼Œè¿™æ­£æ˜¯é—®é¢˜æ‰€åœ¨ï¼ å®ç° è¿™é‡Œä»¥æ±‚åŒºé—´æœ€å¤§å€¼ä¸ºä¾‹ï¼Œæ ¸å¿ƒæ€æƒ³ï¼š\næ›´æ–°çš„æ—¶å€™ä¸ä»…è¦ç»´æŠ¤æ ‘çŠ¶æ•°ç»„ $ft$ï¼Œè¿˜è¦ç»´æŠ¤åŸæ•°ç»„ $nums$ æŸ¥è¯¢çš„æ—¶å€™ $[p, r]$ æœ€å€¼æœ´ç´ åšæ³•ï¼šä»èµ·ç‚¹åˆ°ç»ˆç‚¹é€ä¸ªéå†ï¼Œå–æœ€å¤§å€¼å³å¯ï¼Œå¯ä»¥ä½¿ç”¨ $ft$ å¯¹å…¶è¿›è¡Œä¼˜åŒ– è‹¥ $ft[i]$ æ‰€ç®¡ç†çš„åŒºé—´åœ¨æŸ¥è¯¢åŒºé—´èŒƒå›´å†…ï¼šç”¨ $ft[i]$ ä»£è¡¨å…¶æ‰€ç®¡ç†çš„åŒºé—´å³å¯ å¦‚æœ $ft[i]$ æ‰€ç®¡ç†çš„åŒºé—´å¹¶æ²¡æœ‰å®Œå…¨åœ¨æŸ¥è¯¢åŒºé—´å†…ï¼Œå›åˆ°æœ´ç´ åšæ³•å³å¯ï¼Œç”¨åŸæ˜¯æ•°ç»„ä¸­çš„å…ƒç´ åšæ¯”è¾ƒå³å¯ ç¤ºä¾‹ï¼šæŸ¥è¯¢åŒºé—´ $[3, 7]$\n$ft[7]$ ç®¡ç†çš„èŒƒå›´æ˜¯ $[7, 7]$ï¼Œå®Œå…¨åœ¨æŸ¥è¯¢èŒƒå›´å†… $ft[6]$ ç®¡ç†çš„èŒƒå›´æ˜¯ $[5, 6]$ï¼Œå®Œå…¨åœ¨æŸ¥è¯¢èŒƒå›´å†… $ft[4]$ ç®¡ç†çš„èŒƒå›´æ˜¯ $[1, 4]$ï¼Œä¸å®Œå…¨åœ¨æŸ¥è¯¢èŒƒå›´å†…ï¼Œä½¿ç”¨åŸæ•°ç»„å…ƒç´ ä»£è¡¨ $nums[4]$ $ft[3]$ ç®¡ç†çš„èŒƒå›´æ˜¯ $[3, 3]$ï¼Œå®Œå…¨åœ¨æŸ¥è¯¢èŒƒå›´å†… $max([3, 7]) = max(ft[7], ft[6], nums[4], ft[3])$ ç¦»æ•£åŒ– ç»´æŠ¤ç¦»æ•£åŒºé—´ å¸¸è§„ï¼šä¸‹æ ‡åŒºé—´æ˜¯è¿ç»­çš„ï¼Œç»´æŠ¤åŒºé—´ [5, 6] ä¹‹é—´çš„æœ€å€¼/å’Œ\nå¦‚æœä¸‹æ ‡åŒºé—´ä¸è¿ç»­å‘¢ï¼š\nèŒƒå›´å°çš„è¯ï¼Œå£°æ˜ä¸€ä¸ªæ•°ç»„ï¼Œå½“æˆè¿ç»­çš„å°±å¯ä»¥äº† èŒƒå›´ç‰¹åˆ«å¤§ï¼Œå°±æ²¡åŠæ³•å£°æ˜æ•°ç»„äº† è§£å†³åŠæ³•ï¼š\nå¯¹å‡ºç°è¿‡çš„ä¸‹æ ‡è¿›è¡Œæ’åºï¼Œæ’å®Œåºåï¼Œå»é‡ æ¯æ¬¡å…ˆç”¨äºŒåˆ†æŸ¥æ‰¾ï¼ŒæŸ¥æ‰¾åˆ°å¯¹åº”çš„è¿ç»­ä¸‹æ ‡ //æ’åº sort(diff.begin(), diff.end()); //å»é‡ diff.resize(unique(diff.begin(), diff.end()) - diff.begin()); Fenwick fw(diff.size()); long long mx = LLONG_MIN; for(int i = 0; i \u0026lt; n; ++i) { //ç¦»æ•£ä¸‹æ ‡è½¬åŒ–ä¸ºè¿ç»­ä¸‹æ ‡ int j = lower_bound(diff.begin(), diff.end(), nums[i] - i) - diff.begin(); long long temp = fw.query(j + 1) + nums[i]; fw.update(j + 1, temp); mx = max(mx, temp); } å°è£… æ”¯æŒåŒºé—´ å’Œã€ç§¯ã€ä¸å’Œã€æˆ–å’Œã€å¼‚æˆ–å’Œã€æœ€å¤§/å°å€¼ï¼ˆgcdï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼‰ç­‰åœºæ™¯çš„å•ç‚¹æ›´æ–°ï¼ŒåŒºé—´æŸ¥è¯¢æ“ä½œã€‚\nåªæ”¯æŒâ€œå¢é‡æ›´æ–°ï¼ˆupdateï¼‰â€ï¼Œä¸æ”¯æŒ â€œè®¾ç½®æ›´æ–°ï¼ˆsetï¼‰â€ å³ä½¿æ”¯æŒè®¾ç½®æ›´æ–°ï¼Œä¹Ÿæ˜¯é€šè¿‡å¢é‡æ›´æ–°å®ç°çš„ï¼Œå¦‚ å’Œã€ä¹˜ç§¯ã€å¼‚æˆ–å’Œã€‚å…¶ä»–åœºæ™¯æ˜¯ç§»é™¤ä¸æ‰æ—§æœ‰å…ƒç´ å½±å“çš„ï¼Œä½¿ç”¨èµ·æ¥å…·æœ‰çº¦æŸï¼Œä»¥æœ€å€¼åœºæ™¯ä¸ºä¾‹:\næœ€å¤§å€¼æŸ¥è¯¢ï¼šæ›´æ–°å€¼å¿…é¡»å¤§äºç­‰äºæ—§å€¼ æœ€å°å€¼æŸ¥è¯¢ï¼šæ›´æ–°å€¼å¿…é¡»å°äºç­‰äºæ—§å€¼ åŸç† + å®ç°çš„æ—¶å€™åŸºäº 1-indexed æ›´å¥½ç†è§£ï¼Œæ¥å£å°è£…éƒ½æ˜¯ 0-indexed ä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼ï¼ï¼\n// Copyright (c) 2025 pk. All rights reserved. // Use of this source code is governed by a MIT license // if you like this code, don\u0026#39;t delete this, thanks. // identity variable template(C++14) template\u0026lt;template\u0026lt;typename\u0026gt; class Op, typename T\u0026gt; constexpr auto identity_value = nullptr; // std::plus partial variable template specialization template\u0026lt;typename T\u0026gt; constexpr auto identity_value\u0026lt;std::plus, T\u0026gt; = T(0); // std::multiplies partial variable template specialization template\u0026lt;typename T\u0026gt; constexpr auto identity_value\u0026lt;std::multiplies, T\u0026gt; = T(1); // std::bit_and partial variable template specialization template\u0026lt;typename T\u0026gt; constexpr auto identity_value\u0026lt;std::bit_and, T\u0026gt; = ~T(0); // std::bit_or partial variable template specialization template\u0026lt;typename T\u0026gt; constexpr auto identity_value\u0026lt;std::bit_or, T\u0026gt; = T(0); // std::bit_xor partial variable template specialization template\u0026lt;typename T\u0026gt; constexpr auto identity_value\u0026lt;std::bit_xor, T\u0026gt; = T(0); // maximum partial variable template specialization // std::maximum is function template, not types of functors // float type should use lowest() instead of min() template\u0026lt;typename T\u0026gt; struct maximum { constexpr T operator()(const T\u0026amp; lhs, const T\u0026amp; rhs) const { return std::max(lhs, rhs); } }; template\u0026lt;typename T\u0026gt; constexpr auto identity_value\u0026lt;maximum , T\u0026gt; = std::is_floating_point\u0026lt;T\u0026gt;::value ? std::numeric_limits\u0026lt;T\u0026gt;::lowest() : std::numeric_limits\u0026lt;T\u0026gt;::min(); // minimum partial variable template specialization // std::min is function template, not types of functors template\u0026lt;typename T\u0026gt; struct minimum { constexpr T operator()(const T\u0026amp; lhs, const T\u0026amp; rhs) const { return std::min(lhs, rhs);} }; template\u0026lt;typename T\u0026gt; constexpr auto identity_value\u0026lt;minimum, T\u0026gt; = std::numeric_limits\u0026lt;T\u0026gt;::max(); template\u0026lt;template\u0026lt;typename\u0026gt; class Op, typename T\u0026gt; class FenwickTree { public: explicit FenwickTree(const int n, const T\u0026amp; init_value = identity_value\u0026lt;Op, T\u0026gt;) : ori(n, init_value), ft(n + 1, identity_value\u0026lt;Op, T\u0026gt;) { linear_init(); } explicit FenwickTree(const std::vector\u0026lt;T\u0026gt;\u0026amp; nums) : ori(nums), ft(nums.size() + 1, identity_value\u0026lt;Op, T\u0026gt;) { linear_init(); } // 0-indexed const T\u0026amp; operator[](size_t idx) const { int n = ori.size(); if (idx \u0026lt; 0 || idx \u0026gt;= n) { throw std::out_of_range(\u0026#34;index out of range\u0026#34;); } return ori[idx]; } bool update(int idx, T x) { int n = ori.size(); if(idx \u0026lt; 0 || idx \u0026gt;= n) { throw std::out_of_range(\u0026#34;index out of range\u0026#34;); } ori[idx] = op(ori[idx], x); idx++; while(idx \u0026lt; ft.size()) { ft[idx] = op(ft[idx], x); idx += lowbit(idx); } return true; } // 0-indexed [0, idx] T query(int idx) const { // change to 1-indexed idx++; T res = identity_value\u0026lt;Op, T\u0026gt;; // special scene should return identity if(idx \u0026lt; 1) return res; // avoid Out-of-bounds access if(idx \u0026gt; ori.size()) idx = ori.size(); while(idx) { res = op(res, ft[idx]); idx -= lowbit(idx); } return res; } // 0-indexed [p, r] T query(int p, int r) const { // change to 1-indexed p++, r++; int n = static_cast\u0026lt;int\u0026gt;(ori.size()); T res = identity_value\u0026lt;Op, T\u0026gt;; // special scene should return identity if(p \u0026gt; r || r \u0026lt; 1 || p \u0026gt; n) return res; // void Out-of-bounds access if(p \u0026lt; 1) p = 1; if(r \u0026gt; n) r = n; while(p \u0026lt;= r) { if(p \u0026lt;= r - lowbit(r)) { res = op(res, ft[r]); r -= lowbit(r); } else { res = op(res, ori[--r]); } } return res; } private: static int lowbit(const int x) { return x \u0026amp; (-x); } void linear_init() { int n = ori.size(); for(int i = 1; i \u0026lt;= n; ++i) { ft[i] = op(ft[i], ori[i - 1]); int idx = i + lowbit(i); if(idx \u0026lt;= n) ft[idx] = op(ft[idx], ft[i]); } } std::vector\u0026lt;T\u0026gt; ori; std::vector\u0026lt;T\u0026gt; ft; Op\u0026lt;T\u0026gt; op; }; ä½¿ç”¨ç¤ºä¾‹\nstd::cout \u0026lt;\u0026lt; identity_value\u0026lt;maximum, int\u0026gt; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; identity_value\u0026lt;minimum, int\u0026gt; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; identity_value\u0026lt;maximum, unsigned int\u0026gt; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; identity_value\u0026lt;minimum, unsigned int\u0026gt; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; identity_value\u0026lt;maximum, long long\u0026gt; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; identity_value\u0026lt;minimum, long long\u0026gt; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; identity_value\u0026lt;maximum, unsigned long long\u0026gt; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; identity_value\u0026lt;minimum, unsigned long long\u0026gt; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; identity_value\u0026lt;maximum, float\u0026gt; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; identity_value\u0026lt;minimum, float\u0026gt; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; identity_value\u0026lt;maximum, double\u0026gt; \u0026lt;\u0026lt; std::endl; std::cout \u0026lt;\u0026lt; identity_value\u0026lt;minimum, double\u0026gt; \u0026lt;\u0026lt; std::endl; FenwickTree\u0026lt;std::plus, int\u0026gt; ft(10); ft.update(0, 1); ft.update(1, 2); ft.update(9, 3); std::cout \u0026lt;\u0026lt; ft.query(9) \u0026lt;\u0026lt; std::endl; FenwickTree\u0026lt;minimum, int\u0026gt; ft1(10); åœ¨å®ç°å•ç‚¹æŸ¥è¯¢ã€åŒºé—´æŸ¥è¯¢æ—¶ï¼Œéœ€è¦æ³¨æ„ï¼š\nä¸è¦ç€æ€¥ç›´æ¥ä½¿ç”¨ clamp å¤„ç†è¾¹ç•Œï¼Œåº”è¯¥å…ˆåˆ¤æ–­ç‰¹æ®Šåœºæ™¯ å•ç‚¹æŸ¥è¯¢: idx == -2 æ—¶ï¼Œå®é™…åº”è¯¥è¿”å›å•ä½å…ƒï¼Œå¦‚æœå…ˆ clamp åˆ° idx == 0, è¿”å›çš„å¹¶ä¸æ˜¯å•ä½å…ƒ åŒºé—´æŸ¥è¯¢: p \u0026gt; r || r \u0026lt; 0 || p \u0026gt;= ori.size() æ—¶éƒ½åº”è¯¥è¿”å›å•ä½å…ƒ åˆ¤æ–­å®Œç‰¹æ®Šåœºæ™¯ä¹‹åï¼Œéœ€è¦è¿›è¡Œ clampï¼Œé˜²æ­¢è®¿é—®è¶Šç•ŒåŒæ—¶ä¿è¯è®¡ç®—ç»“æœ å•ç‚¹æŸ¥è¯¢: idx == ori.size() + 3 æ—¶ï¼Œè®¡ç®—å‰åº”è¯¥ clamp åˆ° idx == ori.size() - 1 é˜²æ­¢è®¿é—®è¶Šç•Œ åŒºé—´æŸ¥è¯¢: ç‰¹æ®Šåœºæ™¯åˆ¤æ–­å®Œä¹‹åï¼Œè¿˜æœ‰å¯èƒ½æ˜¯ p \u0026lt; 0 \u0026amp;\u0026amp; r \u0026gt;= ori.size() ç­‰åœºæ™¯ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦åš clamp çš„ ç»ƒä¹  std::plus:\nLeetCode 3187. æ•°ç»„ä¸­çš„å³°å€¼ LeetCode 1589. æ‰€æœ‰æ’åˆ—ä¸­çš„æœ€å¤§å’Œ LeetCode 2426. æ»¡è¶³ä¸ç­‰å¼çš„æ•°å¯¹æ•°ç›® LeetCode 2179. ç»Ÿè®¡æ•°ç»„ä¸­å¥½ä¸‰å…ƒç»„æ•°ç›® LeetCode 327. åŒºé—´å’Œçš„ä¸ªæ•° maximum:\nLeetCode 2926. å¹³è¡¡å­åºåˆ—çš„æœ€å¤§å’Œ LeetCode 2407. æœ€é•¿é€’å¢å­åºåˆ— II std::bit_or:\nLeetCode 3171. æ‰¾åˆ°æŒ‰ä½æˆ–æœ€æ¥è¿‘ K çš„å­æ•°ç»„ std::bit_and:\nLeetCode 1521. æ‰¾åˆ°æœ€æ¥è¿‘ç›®æ ‡å€¼çš„å‡½æ•°å€¼ ","permalink":"https://dust-II.github.io/posts/1-01-01-test/","summary":"\u003ch1 id=\"åŸæ•°ç»„--å‰ç¼€å’Œæ•°ç»„--å·®åˆ†æ•°ç»„--æ ‘çŠ¶æ•°ç»„\"\u003eåŸæ•°ç»„ \u0026amp; å‰ç¼€å’Œæ•°ç»„ \u0026amp; å·®åˆ†æ•°ç»„ \u0026amp; æ ‘çŠ¶æ•°ç»„\u003c/h1\u003e\n\u003cp\u003eè®¾æœ‰åŸæ•°ç»„ $nums$:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eæ•°ç»„ $sum[i] nums[0] + nums[1] + \u0026hellip; + nums[i]$ ç§°ä¸º $nums$ çš„å‰ç¼€å’Œæ•°ç»„\u003c/li\u003e\n\u003cli\u003eæ•°ç»„ $dif[i] = nums[i] - nums[i - 1]$ ç§°ä¸º $nums$ çš„å·®åˆ†æ•°ç»„\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eå‰ç¼€å’Œæ•°ç»„ã€å·®åˆ†æ•°ç»„ åªä¸è¿‡æ˜¯åŸæ•°ç»„çš„ä¸åŒè¡¨ç¤ºå½¢å¼ã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eåŸæ•°ç»„å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…è®¿é—®ä»»æ„å…ƒç´ ï¼ï¼ï¼\u003c/li\u003e\n\u003cli\u003eå‰ç¼€å’Œæ•°ç»„å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´è·å–ä»»æ„åŒºé—´çš„å…ƒç´ å’Œï¼ï¼ï¼\u003c/li\u003e\n\u003cli\u003eå·®åˆ†æ•°ç»„å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…å¯¹ä»»æ„åŒºé—´å†…å…ƒç´ å¢åŠ /å‡å°‘å›ºå®šæ•°å€¼ï¼ï¼ï¼\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eå‰ç¼€å’Œã€å·®åˆ†äº’ä¸ºé€†è¿ç®—ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eåŸæ•°ç»„ æ˜¯ å·®åˆ†æ•°ç»„ çš„å‰ç¼€å’Œæ•°ç»„ï¼ï¼ï¼\u003c/li\u003e\n\u003cli\u003eåŸæ•°ç»„ æ˜¯ å‰ç¼€å’Œæ•°ç»„ çš„å·®åˆ†æ•°ç»„ï¼ï¼ï¼\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg alt=\"/assets/content/1.png\" loading=\"lazy\" src=\"/assets/content/1.png\"\u003e\u003c/p\u003e\n\u003cp\u003eå‰ç¼€å’Œæ•°ç»„ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eç›´æ¥å­˜å‚¨äº†å‰ç¼€å’Œä¿¡æ¯ï¼›\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ„å»ºæ—¶é—´å¤æ‚åº¦ï¼š\u003c/strong\u003e $O(n)$ï¼›\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæŸ¥è¯¢åŸæ•°ç»„ä»»æ„åŒºé—´å†…å…ƒç´ çš„å’Œï¼š\u003c/strong\u003e æ—¶é—´å¤æ‚åº¦ $O(1)$ï¼›\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eä¿®æ”¹åŸæ•°ç»„ä¸­æŸä¸ªå…ƒç´ çš„å€¼éœ€è¦å¯¹å‰ç¼€å’Œæ•°ç»„è¿›è¡Œç»´æŠ¤ï¼š\u003c/strong\u003e æ—¶é—´å¤æ‚åº¦ä¸º $O(n)$ï¼›\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eæ ‘çŠ¶æ•°ç»„ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eé—´æ¥å­˜å‚¨äº†å‰ç¼€å’Œä¿¡æ¯ï¼Œè¢«åˆ†ä¸ºè¿ç»­çš„å¤šæ®µ\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ„å»ºæ—¶é—´å¤æ‚åº¦ï¼š\u003c/strong\u003e $O(n)$ï¼›\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæŸ¥è¯¢åŸæ•°ç»„ä»»æ„åŒºé—´å†…å…ƒç´ çš„å’Œï¼š\u003c/strong\u003e å®é™…ä¸Šæ˜¯æŸ¥è¯¢ä¸¤æ¬¡å‰ç¼€å’Œï¼Œç„¶åä½œå·®ï¼›æ—¶é—´å¤æ‚åº¦ $O(logn)$ï¼›\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eä¿®æ”¹åŸæ•°ç»„ä¸­æŸä¸ªå…ƒç´ çš„å€¼éœ€è¦å¯¹æ ‘çŠ¶æ•°ç»„è¿›è¡Œç»´æŠ¤ï¼š\u003c/strong\u003e æ—¶é—´å¤æ‚åº¦ä¸º $O(logn)$ï¼›\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp\u003eæ ‘çŠ¶æ•°ç»„æ˜¯ä¸€ç§ â€œå…¼é¡¾å•ç‚¹ä¿®æ”¹ä¸åŒºé—´æŸ¥è¯¢å¹³è¡¡çš„ä¸€ç§æ•°æ®ç»“æ„â€\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch1 id=\"åŸç†\"\u003eåŸç†\u003c/h1\u003e\n\u003cp\u003eå…ˆä¸Šä»£ç ï¼Œç„¶åå†æ ¹æ®ä»£ç åå‘ç†è§£ï¼š\u003c/p\u003e","title":"æ ‘çŠ¶æ•°ç»„ï¼ˆFenwick Treeï¼‰"}]